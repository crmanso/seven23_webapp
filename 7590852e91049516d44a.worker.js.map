{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/jose-jwe-jws/dist/jose-commonjs.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/is-buffer/index.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/buffer/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/buffer/node_modules/isarray/index.js","webpack:///./src/app/constants.js","webpack:///./src/app/encryption.js","webpack:///./src/app/storage.js","webpack:///./src/app/workers/utils/changeChain.js","webpack:///./src/app/workers/Changes.worker.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isBuffer","toString","isArray","val","isObject","isFunction","forEach","obj","fn","length","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","arguments","deepMerge","extend","a","b","thisArg","trim","str","replace","Jose","JoseJWE","JoseJWS","setCrypto","cp","crypto","atob","Buffer","btoa","caniuse","Promise","reject","then","all","subtle","getRandomValues","importKey","generateKey","exportKey","wrapKey","unwrapKey","encrypt","decrypt","sign","Uint8Array","Uint32Array","JSON","parse","stringify","assert","expr","msg","Error","WebCryptographer","this","setKeyEncryptionAlgorithm","setContentEncryptionAlgorithm","setContentSignAlgorithm","alg","key_encryption","getCryptoConfig","getKeyEncryptionAlgorithm","jwe_name","content_encryption","getContentEncryptionAlgorithm","content_sign","getSignConfig","getContentSignAlgorithm","jwa_name","createIV","iv","Array","iv_bytes","createCek","hack","getCekWorkaround","id","enc_op","wrapCek","cek","unwrapCek","extractable","specific_cek_bytes","dec_op","len","hash","aad","cek_promise","plain_text","config","auth","aead","tag_bytes","enc","additionalData","tagLength","cipher_text","offset","byteLength","cipher","slice","tag","keys","splitKey","mac_key_promise","cipher_text_promise","enc_key","mac_promise","truncatedMac","dec","buf","Utils","arrayBufferConcat","enc_key_promise","mac","arr1","arr2","mac_key","hash1","hash2","resolve","compare","catch","err","payload","key_promise","arrayFromString","Base64Url","encode","encodeArray","verify","signature","key_id","getJwaNameForSignKey","res","kid","verified","keyId","rsa_key","sha256","purpose","cek_bytes_promise","cek_bytes","key_bytes","bytes","truncated_bytes","al","arrayFromInt32","al_full","set","saltLength","rv","sign_algo","algorithm","hash_algo","indexOf","substring","getKeyUsageByAlg","publicKey","privateKey","importRsaPublicKey","jwk","usage","convertRsaKey","rk","ext","importRsaPrivateKey","String","arrayish","arr","parameters","missing","map","push","join","kty","er","intFromHex","e","parseInt","v","stripLeadingZeros","test","split","charCodeAt","arrayFromUtf8String","unescape","encodeURIComponent","stringFromArray","fromCharCode","utf8StringFromArray","decodeURIComponent","escape","is_leading_zero","j","args","total","decode","decodeArray","digest","isCryptoKey","constructor","Encrypter","cryptographer","userHeaders","addHeader","k","encrypted_cek","enc_promise","headers","jwe_protected_header","header","encryptPlainText","data","Decrypter","getHeaders","parts","crit","Signer","key_promises","waiting_kid","signer_aads","signer_headers","addSigner","kid_promise","that","addSignature","jws","protected","JWS","fromObject","kids","doSign","pl","ph","uh","kps","k_id","shift","message","protectedHeader","unprotectedHeader","rsa_key_promise","toBeSigned","typ","signatures","JsonSerialize","CompactSerialize","Verifier","keyfinder","jwt","exec","unshift","addRecipient","console","log","promises","sig","vr","configurable","writable","apply","utils","url","params","paramsSerializer","serializedParams","toISOString","hashmarkIndex","__CANCEL__","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","adapter","defaults","process","XMLHttpRequest","transformRequest","transformResponse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","method","settle","buildURL","parseHeaders","isURLSameOrigin","createError","requestData","requestHeaders","request","username","password","Authorization","open","toUpperCase","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","response","responseType","responseText","statusText","onabort","onerror","ontimeout","cookies","xsrfValue","withCredentials","read","undefined","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","cancel","abort","send","enhanceError","code","error","config1","config2","prop","Cancel","Axios","mergeConfig","createInstance","defaultConfig","context","instance","axios","instanceConfig","CancelToken","isCancel","spread","default","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","fulfilled","rejected","getUri","handlers","use","eject","h","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","throwIfRequested","baseURL","reason","fns","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","normalizedName","isAxiosError","toJSON","description","number","fileName","lineNumber","columnNumber","stack","ignoreDuplicateOf","parsed","line","substr","originURL","msie","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hostname","port","pathname","charAt","location","requestURL","write","expires","path","domain","secure","cookie","Date","toGMTString","match","RegExp","remove","now","relativeURL","executor","TypeError","resolvePromise","token","source","callback","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","from","byteOffset","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","fromString","checked","copy","type","assertSize","size","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","Number","remaining","strLen","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","x","y","list","pos","swap16","swap32","swap64","equals","inspect","max","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","_arr","ret","out","toHex","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","stringtrim","base64clean","src","dst","g","Function","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","DB_NAME","DB_VERSION","_arrayBufferToBase64","binary","ERROR_NO_KEY","EncryptionInstance","_key","_","encrypter","decrypter","input","decrypted_plain_text","StorageInstance","connectIndexedDB","indexedDB","onupgradeneeded","event","connection","objectStoreNames","item","deleteObjectStore","objectStore","createObjectStore","keyPath","createIndex","unique","onblocked","onsuccess","reset","firstRating","onmessage","action","uuid","index","keyRange","changes","storage","transaction","IDBKeyRange","only","account","openCursor","accountId","cursor","continue","change","date","sort","lastItem","exchange_rate","parseFloat","new_amount","local_amount","assign","local_currency","new_currency","rates","secondDegree","postMessage","category","last_edited","year","month","day","accounts","delete","clear","newCipher","oldCipher","encryption","blob","json","exception"],"mappings":"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","file":"7590852e91049516d44a.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Jose = {};\n\n/**\n * Javascript Object Signing and Encryption library.\n *\n * @author Alok Menghrajani <alok@squareup.com>\n */\n\n/**\n * Initializes a JoseJWE object.\n */\nvar JoseJWE = {};\n\n/**\n * Initializes a JoseJWS object.\n */\nvar JoseJWS = {};\n\n/**\n * Set crypto provider to use (window.crypto, node-webcrypto-ossl, node-webcrypto-pkcs11 etc.).\n */\nexports.setCrypto = function (cp) {\n  Jose.crypto = cp;\n};\n\n/**\n * Default to the global \"crypto\" variable\n */\nif (typeof(crypto) !== 'undefined') {\n  exports.setCrypto(crypto);\n}\n\n/**\n * Use Node versions of atob, btoa functions outside the browser\n */\nif (typeof atob !== \"function\") {\n  atob = function (str) {\n    return new Buffer(str, 'base64').toString('binary');\n  };\n}\n\nif (typeof btoa !== \"function\") {\n  btoa = function (str) {\n    var buffer;\n    if (str instanceof Buffer) {\n      buffer = str;\n    } else {\n      buffer = new Buffer(str.toString(), 'binary');\n    }\n    return buffer.toString('base64');\n  };\n}\n\n/**\n * Checks if we have all the required APIs.\n *\n * It might make sense to take a Cryptographer and delegate some of the checks\n * to the cryptographer. I however wanted to keep things simple, so I put all\n * the checks here for now.\n *\n * This list is generated manually and needs to be kept up-to-date.\n *\n * Casual testing shows that:\n * - things work in Chrome 40.0.2214.115\n * - things work in Firefox 35.0.1\n * - Safari 7.1.3 doesn't support JWK keys.\n * - Internet Explorer doesn't support Promises.\n *\n * Note: We don't check if the browser supports specific crypto operations.\n *       I.e. it's possible for this function to return true, but encryption or\n *       decryption to subsequently fail because the browser does not support a\n *       given encryption, decryption, key wrapping, key unwrapping or hmac\n *       operation.\n *\n * @return bool\n */\nJose.caniuse = function() {\n  var r = true;\n\n  // Promises/A+ (https://promisesaplus.com/)\n  r = r && (typeof Promise == \"function\");\n  r = r && (typeof Promise.reject == \"function\");\n  r = r && (typeof Promise.prototype.then == \"function\");\n  r = r && (typeof Promise.all == \"function\");\n\n  // Crypto (http://www.w3.org/TR/WebCryptoAPI/)\n  r = r && (typeof Jose.crypto == \"object\");\n  r = r && (typeof Jose.crypto.subtle == \"object\");\n  r = r && (typeof Jose.crypto.getRandomValues == \"function\");\n  r = r && (typeof Jose.crypto.subtle.importKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.generateKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.exportKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.wrapKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.unwrapKey == \"function\");\n  r = r && (typeof Jose.crypto.subtle.encrypt == \"function\");\n  r = r && (typeof Jose.crypto.subtle.decrypt == \"function\");\n  r = r && (typeof Jose.crypto.subtle.sign == \"function\");\n\n  // ArrayBuffer (http://people.mozilla.org/~jorendorff/es6-draft.html#sec-arraybuffer-constructor)\n  r = r && (typeof ArrayBuffer == \"function\");\n  r = r && (typeof Uint8Array == \"function\" || typeof Uint8Array == \"object\"); // Safari uses \"object\"\n  r = r && (typeof Uint32Array == \"function\" || typeof Uint32Array == \"object\"); // Safari uses \"object\"\n  // skipping Uint32Array.prototype.buffer because https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-%typedarrayprototype%-object\n\n  // JSON (http://www.ecma-international.org/ecma-262/5.1/#sec-15.12.3)\n  r = r && (typeof JSON == \"object\");\n  r = r && (typeof JSON.parse == \"function\");\n  r = r && (typeof JSON.stringify == \"function\");\n\n  // Base64 (http://www.w3.org/TR/html5/webappapis.html#dom-windowbase64-atob)\n  r = r && (typeof atob == \"function\");\n  r = r && (typeof btoa == \"function\");\n\n  // skipping Array functions (map, join, push, length, etc.)\n  // skipping String functions (split, charCodeAt, fromCharCode, replace, etc.)\n  // skipping regexp.test and parseInt\n\n  return r;\n};\n\n/**\n * Feel free to override this function.\n */\nJose.assert = function(expr, msg) {\n  if (!expr) {\n    throw new Error(msg);\n  }\n};\n\nexports.Jose = Jose;\nexports.JoseJWE = JoseJWE;\nexports.JoseJWS = JoseJWS;\n/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The WebCryptographer uses http://www.w3.org/TR/WebCryptoAPI/ to perform\n * various crypto operations. In theory, this should help build the library with\n * different underlying crypto APIs. I'm however unclear if we'll run into code\n * duplication or callback vs Promise based API issues.\n */\nvar WebCryptographer = function() {\n  this.setKeyEncryptionAlgorithm(\"RSA-OAEP\");\n  this.setContentEncryptionAlgorithm(\"A256GCM\");\n  this.setContentSignAlgorithm(\"RS256\");\n};\n\nJose.WebCryptographer = WebCryptographer;\n\n/**\n * Overrides the default key encryption algorithm\n * @param alg  string\n */\nWebCryptographer.prototype.setKeyEncryptionAlgorithm = function(alg) {\n  this.key_encryption = getCryptoConfig(alg);\n};\n\nWebCryptographer.prototype.getKeyEncryptionAlgorithm = function() {\n  return this.key_encryption.jwe_name;\n};\n\n/**\n * Overrides the default content encryption algorithm\n * @param alg  string\n */\nWebCryptographer.prototype.setContentEncryptionAlgorithm = function(alg) {\n  this.content_encryption = getCryptoConfig(alg);\n};\n\nWebCryptographer.prototype.getContentEncryptionAlgorithm = function() {\n  return this.content_encryption.jwe_name;\n};\n\n/**\n * Overrides the default content sign algorithm\n * @param alg  string\n */\nWebCryptographer.prototype.setContentSignAlgorithm = function(alg) {\n  this.content_sign = getSignConfig(alg);\n};\n\nWebCryptographer.prototype.getContentSignAlgorithm = function() {\n  return this.content_sign.jwa_name;\n};\n\n/**\n * Generates an IV.\n * This function mainly exists so that it can be mocked for testing purpose.\n *\n * @return Uint8Array with random bytes\n */\nWebCryptographer.prototype.createIV = function() {\n  var iv = new Uint8Array(new Array(this.content_encryption.iv_bytes));\n  return Jose.crypto.getRandomValues(iv);\n};\n\n/**\n * Creates a random content encryption key.\n * This function mainly exists so that it can be mocked for testing purpose.\n *\n * @return Promise<CryptoKey>\n */\nWebCryptographer.prototype.createCek = function() {\n  var hack = getCekWorkaround(this.content_encryption);\n  return Jose.crypto.subtle.generateKey(hack.id, true, hack.enc_op);\n};\n\nWebCryptographer.prototype.wrapCek = function(cek, key) {\n  return Jose.crypto.subtle.wrapKey(\"raw\", cek, key, this.key_encryption.id);\n};\n\nWebCryptographer.prototype.unwrapCek = function(cek, key) {\n  var hack = getCekWorkaround(this.content_encryption);\n  var extractable = (this.content_encryption.specific_cek_bytes > 0);\n  var key_encryption = this.key_encryption.id;\n\n  return Jose.crypto.subtle.unwrapKey(\"raw\", cek, key, key_encryption, hack.id, extractable, hack.dec_op);\n};\n\n/**\n * Returns algorithm and operation needed to create a CEK.\n *\n * In some cases, e.g. A128CBC-HS256, the CEK gets split into two keys. The Web\n * Crypto API does not allow us to generate an arbitrary number of bytes and\n * then create a CryptoKey without any associated algorithm. We therefore piggy\n * back on AES-CBS and HMAC which allows the creation of CEKs of size 16, 32, 64\n * and 128 bytes.\n */\nvar getCekWorkaround = function(alg) {\n  var len = alg.specific_cek_bytes;\n  if (len) {\n    if (len == 16) {\n      return {id: {name: \"AES-CBC\", length: 128}, enc_op: [\"encrypt\"], dec_op: [\"decrypt\"]};\n    } else if (len == 32) {\n      return {id: {name: \"AES-CBC\", length: 256}, enc_op: [\"encrypt\"], dec_op: [\"decrypt\"]};\n    } else if (len == 64) {\n      return {id: {name: \"HMAC\", hash: {name: \"SHA-256\"}}, enc_op: [\"sign\"], dec_op: [\"verify\"]};\n    } else if (len == 128) {\n      return {id: {name: \"HMAC\", hash: {name: \"SHA-384\"}}, enc_op: [\"sign\"], dec_op: [\"verify\"]};\n    } else {\n      Jose.assert(false, \"getCekWorkaround: invalid len\");\n    }\n  }\n  return {id: alg.id, enc_op: [\"encrypt\"], dec_op: [\"decrypt\"]};\n};\n\n/**\n * Encrypts plain_text with cek.\n *\n * @param iv          Uint8Array\n * @param aad         Uint8Array\n * @param cek_promise Promise<CryptoKey>\n * @param plain_text  Uint8Array\n * @return Promise<json>\n */\nWebCryptographer.prototype.encrypt = function(iv, aad, cek_promise, plain_text) {\n  var config = this.content_encryption;\n  if (iv.length != config.iv_bytes) {\n    return Promise.reject(Error(\"invalid IV length\"));\n  }\n  if (config.auth.aead) {\n    var tag_bytes = config.auth.tag_bytes;\n\n    var enc = {\n      name: config.id.name,\n      iv: iv,\n      additionalData: aad,\n      tagLength: tag_bytes * 8\n    };\n\n    return cek_promise.then(function(cek) {\n      return Jose.crypto.subtle.encrypt(enc, cek, plain_text).then(function(cipher_text) {\n        var offset = cipher_text.byteLength - tag_bytes;\n        return {\n          cipher: cipher_text.slice(0, offset),\n          tag: cipher_text.slice(offset)\n        };\n      });\n    });\n  } else {\n    var keys = splitKey(config, cek_promise, [\"encrypt\"]);\n    var mac_key_promise = keys[0];\n    var enc_key_promise = keys[1];\n\n    // Encrypt the plain text\n    var cipher_text_promise = enc_key_promise.then(function(enc_key) {\n      var enc = {\n        name: config.id.name,\n        iv: iv\n      };\n      return Jose.crypto.subtle.encrypt(enc, enc_key, plain_text);\n    });\n\n    // compute MAC\n    var mac_promise = cipher_text_promise.then(function(cipher_text) {\n      return truncatedMac(\n        config,\n        mac_key_promise,\n        aad,\n        iv,\n        cipher_text);\n    });\n\n    return Promise.all([cipher_text_promise, mac_promise]).then(function(all) {\n      var cipher_text = all[0];\n      var mac = all[1];\n      return {\n        cipher: cipher_text,\n        tag: mac\n      };\n    });\n  }\n};\n\n/**\n * Decrypts cipher_text with cek. Validates the tag.\n *\n * @param cek_promise    Promise<CryptoKey>\n * @param aad protected header\n * @param iv IV\n * @param cipher_text text to be decrypted\n * @param tag to be verified\n * @return Promise<string>\n */\nWebCryptographer.prototype.decrypt = function(cek_promise, aad, iv, cipher_text, tag) {\n  /**\n   * Compares two Uint8Arrays in constant time.\n   *\n   * @return Promise<void>\n   */\n  var compare = function(config, mac_key_promise, arr1, arr2) {\n    Jose.assert(arr1 instanceof Uint8Array, \"compare: invalid input\");\n    Jose.assert(arr2 instanceof Uint8Array, \"compare: invalid input\");\n\n    return mac_key_promise.then(function(mac_key) {\n      var hash1 = Jose.crypto.subtle.sign(config.auth.id, mac_key, arr1);\n      var hash2 = Jose.crypto.subtle.sign(config.auth.id, mac_key, arr2);\n      return Promise.all([hash1, hash2]).then(function(all) {\n        var hash1 = new Uint8Array(all[0]);\n        var hash2 = new Uint8Array(all[1]);\n        if (hash1.length != hash2.length) {\n          throw new Error(\"compare failed\");\n        }\n        for (var i = 0; i < hash1.length; i++) {\n          if (hash1[i] != hash2[i]) {\n            throw new Error(\"compare failed\");\n          }\n        }\n        return Promise.resolve(null);\n      });\n    });\n  };\n\n  if (iv.length != this.content_encryption.iv_bytes) {\n    return Promise.reject(Error(\"decryptCiphertext: invalid IV\"));\n  }\n\n  var config = this.content_encryption;\n  if (config.auth.aead) {\n    var dec = {\n      name: config.id.name,\n      iv: iv,\n      additionalData: aad,\n      tagLength: config.auth.tag_bytes * 8\n    };\n\n    return cek_promise.then(function(cek) {\n      var buf = Utils.arrayBufferConcat(cipher_text, tag);\n      return Jose.crypto.subtle.decrypt(dec, cek, buf);\n    });\n  } else {\n    var keys = splitKey(config, cek_promise, [\"decrypt\"]);\n    var mac_key_promise = keys[0];\n    var enc_key_promise = keys[1];\n\n    // Validate the MAC\n    var mac_promise = truncatedMac(\n      config,\n      mac_key_promise,\n      aad,\n      iv,\n      cipher_text);\n\n    return Promise.all([enc_key_promise, mac_promise]).then(function(all) {\n      var enc_key = all[0];\n      var mac = all[1];\n\n      return compare(config, mac_key_promise, new Uint8Array(mac), tag).then(function() {\n        var dec = {\n          name: config.id.name,\n          iv: iv\n        };\n        return Jose.crypto.subtle.decrypt(dec, enc_key, cipher_text);\n      }).catch(function(err) {\n        return Promise.reject(Error(\"decryptCiphertext: MAC failed.\"));\n      });\n    });\n  }\n};\n\n/**\n * Signs plain_text.\n *\n * @param aad         json\n * @param payload     String or json\n * @param key_promise Promise<CryptoKey>\n * @return Promise<ArrayBuffer>\n */\nWebCryptographer.prototype.sign = function(aad, payload, key_promise) {\n  var config = this.content_sign;\n\n  if (aad.alg) {\n    config = getSignConfig(aad.alg);\n  }\n\n  // Encrypt the plain text\n  return key_promise.then(function(key) {\n    return Jose.crypto.subtle.sign(config.id, key, Utils.arrayFromString(Utils.Base64Url.encode(JSON.stringify(aad)) + '.' + Utils.Base64Url.encodeArray(payload)));\n  });\n};\n\n/**\n * Verify JWS.\n *\n * @param payload     Base64Url encoded payload\n * @param aad         String Base64Url encoded JSON representation of the protected JWS header\n * @param signature   Uint8Array containing the signature\n * @param key_promise Promise<CryptoKey>\n * @param key_id      value of the kid JoseHeader, it'll be passed as part of the result to the returned promise\n * @return Promise<json>\n */\nWebCryptographer.prototype.verify = function(aad, payload, signature, key_promise, key_id) {\n  var config = this.content_sign;\n\n  return key_promise.then(function(key) {\n    config = getSignConfig(getJwaNameForSignKey(key));\n    return Jose.crypto.subtle.verify(config.id, key, signature, Utils.arrayFromString(aad + \".\" + payload)).then(function(res) {\n      return {kid: key_id, verified: res};\n    });\n  });\n};\n\nJose.WebCryptographer.keyId = function(rsa_key) {\n  return Utils.sha256(rsa_key.n + \"+\" + rsa_key.d);\n};\n\n/**\n * Splits a CEK into two pieces: a MAC key and an ENC key.\n *\n * This code is structured around the fact that the crypto API does not provide\n * a way to validate truncated MACs. The MAC key is therefore always imported to\n * sign data.\n *\n * @param config (used for key lengths & algorithms)\n * @param cek_promise Promise<CryptoKey>  CEK key to split\n * @param purpose Array<String> usages of the imported key\n * @return [Promise<mac key>, Promise<enc key>]\n */\nvar splitKey = function(config, cek_promise, purpose) {\n  // We need to split the CEK key into a MAC and ENC keys\n  var cek_bytes_promise = cek_promise.then(function(cek) {\n    return Jose.crypto.subtle.exportKey(\"raw\", cek);\n  });\n  var mac_key_promise = cek_bytes_promise.then(function(cek_bytes) {\n    if (cek_bytes.byteLength * 8 != config.id.length + config.auth.key_bytes * 8) {\n      return Promise.reject(Error(\"encryptPlainText: incorrect cek length\"));\n    }\n    var bytes = cek_bytes.slice(0, config.auth.key_bytes);\n    return Jose.crypto.subtle.importKey(\"raw\", bytes, config.auth.id, false, [\"sign\"]);\n  });\n  var enc_key_promise = cek_bytes_promise.then(function(cek_bytes) {\n    if (cek_bytes.byteLength * 8 != config.id.length + config.auth.key_bytes * 8) {\n      return Promise.reject(Error(\"encryptPlainText: incorrect cek length\"));\n    }\n    var bytes = cek_bytes.slice(config.auth.key_bytes);\n    return Jose.crypto.subtle.importKey(\"raw\", bytes, config.id, false, purpose);\n  });\n  return [mac_key_promise, enc_key_promise];\n};\n\n/**\n * Converts the Jose web algorithms into data which is\n * useful for the Web Crypto API.\n *\n * length = in bits\n * bytes = in bytes\n */\nvar getCryptoConfig = function(alg) {\n  switch (alg) {\n    // Key encryption\n    case \"RSA-OAEP\":\n      return {\n        jwe_name: \"RSA-OAEP\",\n        id: {name: \"RSA-OAEP\", hash: {name: \"SHA-1\"}}\n      };\n    case \"RSA-OAEP-256\":\n      return {\n        jwe_name: \"RSA-OAEP-256\",\n        id: {name: \"RSA-OAEP\", hash: {name: \"SHA-256\"}}\n      };\n    case \"A128KW\":\n      return {\n        jwe_name: \"A128KW\",\n        id: {name: \"AES-KW\", length: 128}\n      };\n    case \"A256KW\":\n      return {\n        jwe_name: \"A256KW\",\n        id: {name: \"AES-KW\", length: 256}\n      };\n    case \"dir\":\n      return {\n        jwe_name: \"dir\"\n      };\n\n    // Content encryption\n    case \"A128CBC-HS256\":\n      return {\n        jwe_name: \"A128CBC-HS256\",\n        id: {name: \"AES-CBC\", length: 128},\n        iv_bytes: 16,\n        specific_cek_bytes: 32,\n        auth: {\n          key_bytes: 16,\n          id: {name: \"HMAC\", hash: {name: \"SHA-256\"}},\n          truncated_bytes: 16\n        }\n      };\n    case \"A256CBC-HS512\":\n      return {\n        jwe_name: \"A256CBC-HS512\",\n        id: {name: \"AES-CBC\", length: 256},\n        iv_bytes: 16,\n        specific_cek_bytes: 64,\n        auth: {\n          key_bytes: 32,\n          id: {name: \"HMAC\", hash: {name: \"SHA-512\"}},\n          truncated_bytes: 32\n        }\n      };\n    case \"A128GCM\":\n      return {\n        jwe_name: \"A128GCM\",\n        id: {name: \"AES-GCM\", length: 128},\n        iv_bytes: 12,\n        auth: {\n          aead: true,\n          tag_bytes: 16\n        }\n      };\n    case \"A256GCM\":\n      return {\n        jwe_name: \"A256GCM\",\n        id: {name: \"AES-GCM\", length: 256},\n        iv_bytes: 12,\n        auth: {\n          aead: true,\n          tag_bytes: 16\n        }\n      };\n    default:\n      throw Error(\"unsupported algorithm: \" + alg);\n  }\n};\n\n/**\n * Computes a truncated MAC.\n *\n * @param config              configuration\n * @param mac_key_promise     Promise<CryptoKey>  mac key\n * @param aad                 Uint8Array\n * @param iv                  Uint8Array\n * @param cipher_text         Uint8Array\n * @return Promise<buffer>    truncated MAC\n */\nvar truncatedMac = function(config, mac_key_promise, aad, iv, cipher_text) {\n  return mac_key_promise.then(function(mac_key) {\n    var al = new Uint8Array(Utils.arrayFromInt32(aad.length * 8));\n    var al_full = new Uint8Array(8);\n    al_full.set(al, 4);\n    var buf = Utils.arrayBufferConcat(aad, iv, cipher_text, al_full);\n    return Jose.crypto.subtle.sign(config.auth.id, mac_key, buf).then(function(bytes) {\n      return bytes.slice(0, config.auth.truncated_bytes);\n    });\n  });\n};\n\n/**\n * Converts the Jose web algorithms into data which is\n * useful for the Web Crypto API.\n */\nvar getSignConfig = function(alg) {\n\n  switch (alg) {\n    case \"RS256\":\n      return {\n        jwa_name: \"RS256\",\n        id: {name: \"RSASSA-PKCS1-v1_5\", hash: {name: \"SHA-256\"}}\n      };\n    case \"RS384\":\n      return {\n        jwa_name: \"RS384\",\n        id: {name: \"RSASSA-PKCS1-v1_5\", hash: {name: \"SHA-384\"}}\n      };\n    case \"RS512\":\n      return {\n        jwa_name: \"RS512\",\n        id: {name: \"RSASSA-PKCS1-v1_5\", hash: {name: \"SHA-512\"}}\n      };\n    case \"PS256\":\n      return {\n        jwa_name: \"PS256\",\n        id: {name: \"RSA-PSS\", hash: {name: \"SHA-256\"}, saltLength: 20}\n      };\n    case \"PS384\":\n      return {\n        jwa_name: \"PS384\",\n        id: {name: \"RSA-PSS\", hash: {name: \"SHA-384\"}, saltLength: 20}\n      };\n    case \"PS512\":\n      return {\n        jwa_name: \"PS512\",\n        id: {name: \"RSA-PSS\", hash: {name: \"SHA-512\"}, saltLength: 20}\n      };\n    case \"HS256\":\n      return {\n        jwa_name: \"HS256\",\n        id: {name: \"HMAC\", hash: {name: \"SHA-256\"}}\n      };\n    case \"HS384\":\n      return {\n        jwa_name: \"HS384\",\n        id: {name: \"HMAC\", hash: {name: \"SHA-384\"}}\n      };\n    case \"HS512\":\n      return {\n        jwa_name: \"HS512\",\n        id: {name: \"HMAC\", hash: {name: \"SHA-512\"}}\n      };\n    case \"ES256\":\n      return {\n        jwa_name: \"ES256\",\n        id: {name: \"ECDSA\", hash: {name: \"SHA-256\"}}\n      };\n    case \"ES384\":\n      return {\n        jwa_name: \"ES384\",\n        id: {name: \"ECDSA\", hash: {name: \"SHA-384\"}}\n      };\n    case \"ES512\":\n      return {\n        jwa_name: \"ES512\",\n        id: {name: \"ECDSA\", hash: {name: \"SHA-512\"}}\n      };\n    default:\n      throw Error(\"unsupported algorithm: \" + alg);\n  }\n};\n\n/**\n * Returns JWA name for a given CryptoKey\n * @param key CryptoKey\n */\nvar getJwaNameForSignKey = function(key) {\n\n  var rv = \"\",\n    sign_algo = key.algorithm.name,\n    hash_algo = key.algorithm.hash.name;\n\n  if(sign_algo == \"RSASSA-PKCS1-v1_5\") {\n    rv = \"R\";\n  } else if(sign_algo == \"RSA-PSS\") {\n    rv = \"P\";\n  } else {\n    throw new Error(\"unsupported sign/verify algorithm \" + sign_algo);\n  }\n\n  if(hash_algo.indexOf(\"SHA-\") === 0) {\n    rv += \"S\";\n  } else {\n    throw new Error(\"unsupported hash algorithm \" + sign_algo);\n  }\n\n  rv += hash_algo.substring(4);\n\n  return rv;\n};\n\n/**\n * Derives key usage from algorithm's name\n *\n * @param alg String algorithm name\n * @returns {*}\n */\nvar getKeyUsageByAlg = function(alg) {\n\n  switch (alg) {\n    // signature\n    case \"RS256\":\n    case \"RS384\":\n    case \"RS512\":\n    case \"PS256\":\n    case \"PS384\":\n    case \"PS512\":\n    case \"HS256\":\n    case \"HS384\":\n    case \"HS512\":\n    case \"ES256\":\n    case \"ES384\":\n    case \"ES512\":\n      return {\n        publicKey: \"verify\",\n        privateKey: \"sign\"\n      };\n    // key encryption\n    case \"RSA-OAEP\":\n    case \"RSA-OAEP-256\":\n    case \"A128KW\":\n    case \"A256KW\":\n      return {\n        publicKey: \"wrapKey\",\n        privateKey: \"unwrapKey\"\n      };\n    default:\n      throw Error(\"unsupported algorithm: \" + alg);\n  }\n};\n\n/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nJose.Utils = {};\nvar Utils = {};\n\n/**\n * Converts the output from `openssl x509 -text` or `openssl rsa -text` into a\n * CryptoKey which can then be used with RSA-OAEP. Also accepts (and validates)\n * JWK keys.\n *\n * TODO: this code probably belongs in the webcryptographer.\n *\n * @param rsa_key  public RSA key in json format. Parameters can be base64\n *                 encoded, strings or number (for 'e').\n * @param alg      String, name of the algorithm\n * @return Promise<CryptoKey>\n */\nJose.Utils.importRsaPublicKey = function(rsa_key, alg) {\n  var jwk;\n  var config;\n  var usage = getKeyUsageByAlg(alg);\n\n  if (usage.publicKey == \"wrapKey\") {\n    if (!rsa_key.alg) {\n      rsa_key.alg = alg;\n    }\n    jwk = Utils.convertRsaKey(rsa_key, [\"n\", \"e\"]);\n    config = getCryptoConfig(alg);\n  } else {\n    var rk = {};\n    for (var name in rsa_key) {\n      if (rsa_key.hasOwnProperty(name)) {\n        rk[name] = rsa_key[name];\n      }\n    }\n\n    if (!rk.alg && alg) {\n      rk.alg = alg;\n    }\n    config = getSignConfig(rk.alg);\n    jwk = Utils.convertRsaKey(rk, [\"n\", \"e\"]);\n    jwk.ext = true;\n  }\n  return Jose.crypto.subtle.importKey(\"jwk\", jwk, config.id, false, [usage.publicKey]);\n};\n\n/**\n * Converts the output from `openssl x509 -text` or `openssl rsa -text` into a\n * CryptoKey which can then be used with RSA-OAEP and RSA. Also accepts (and validates)\n * JWK keys.\n *\n * TODO: this code probably belongs in the webcryptographer.\n *\n * @param rsa_key  private RSA key in json format. Parameters can be base64\n *                 encoded, strings or number (for 'e').\n * @param alg      String, name of the algorithm\n * @return Promise<CryptoKey>\n */\nJose.Utils.importRsaPrivateKey = function(rsa_key, alg) {\n  var jwk;\n  var config;\n  var usage = getKeyUsageByAlg(alg);\n\n  if (usage.privateKey == \"unwrapKey\") {\n    if (!rsa_key.alg) {\n      rsa_key.alg = alg;\n    }\n    jwk = Utils.convertRsaKey(rsa_key, [\"n\", \"e\", \"d\", \"p\", \"q\", \"dp\", \"dq\", \"qi\"]);\n    config = getCryptoConfig(\"RSA-OAEP\");\n  } else {\n    var rk = {};\n    for (var name in rsa_key) {\n      if (rsa_key.hasOwnProperty(name)) {\n        rk[name] = rsa_key[name];\n      }\n    }\n    config = getSignConfig(alg);\n    if (!rk.alg && alg) {\n      rk.alg = alg;\n    }\n    jwk = Utils.convertRsaKey(rk, [\"n\", \"e\", \"d\", \"p\", \"q\", \"dp\", \"dq\", \"qi\"]);\n    jwk.ext = true;\n  }\n  return Jose.crypto.subtle.importKey(\"jwk\", jwk, config.id, false, [usage.privateKey]);\n};\n\n// Private functions\n\nUtils.isString = function(str) {\n  return ((typeof(str) == \"string\") || (str instanceof String));\n};\n\n/**\n * Takes an arrayish (an array, ArrayBuffer or Uint8Array)\n * and returns an array or a Uint8Array.\n *\n * @param arr  arrayish\n * @return array or Uint8Array\n */\nUtils.arrayish = function(arr) {\n  if (arr instanceof Array) {\n    return arr;\n  }\n  if (arr instanceof Uint8Array) {\n    return arr;\n  }\n  if (arr instanceof ArrayBuffer) {\n    return new Uint8Array(arr);\n  }\n  Jose.assert(false, \"arrayish: invalid input\");\n};\n\n/**\n * Checks if an RSA key contains all the expected parameters. Also checks their\n * types. Converts hex encoded strings (or numbers) to base64.\n *\n * @param rsa_key     RSA key in json format. Parameters can be base64 encoded,\n *                    strings or number (for 'e').\n * @param parameters  array<string>\n * @return json\n */\nUtils.convertRsaKey = function(rsa_key, parameters) {\n  var r = {};\n  var alg;\n\n  // Check that we have all the parameters\n  var missing = [];\n  parameters.map(function(p){if (typeof(rsa_key[p]) == \"undefined\") { missing.push(p); }});\n\n  if (missing.length > 0) {\n    Jose.assert(false, \"convertRsaKey: Was expecting \" + missing.join());\n  }\n\n  // kty is either missing or is set to \"RSA\"\n  if (typeof(rsa_key.kty) != \"undefined\") {\n    Jose.assert(rsa_key.kty == \"RSA\", \"convertRsaKey: expecting rsa_key['kty'] to be 'RSA'\");\n  }\n  r.kty = \"RSA\";\n\n  try {\n    getSignConfig(rsa_key.alg);\n    alg = rsa_key.alg;\n  } catch (err) {\n    try {\n      getCryptoConfig(rsa_key.alg);\n      alg = rsa_key.alg;\n    } catch (er) {\n      Jose.assert(alg, \"convertRsaKey: expecting rsa_key['alg'] to have a valid value\");\n    }\n  }\n  r.alg = alg;\n\n  // note: we punt on checking key_ops\n\n  var intFromHex = function(e) {\n    return parseInt(e, 16);\n  };\n  for (var i = 0; i < parameters.length; i++) {\n    var p = parameters[i];\n    var v = rsa_key[p];\n    if (p == \"e\") {\n      if (typeof(v) == \"number\") {\n        v = Utils.Base64Url.encodeArray(Utils.stripLeadingZeros(Utils.arrayFromInt32(v)));\n      }\n    } else if (/^([0-9a-fA-F]{2}:)+[0-9a-fA-F]{2}$/.test(v)) {\n      var arr = v.split(\":\").map(intFromHex);\n      v = Utils.Base64Url.encodeArray(Utils.stripLeadingZeros(arr));\n    } else if (typeof(v) != \"string\") {\n      Jose.assert(false, \"convertRsaKey: expecting rsa_key['\" + p + \"'] to be a string\");\n    }\n    r[p] = v;\n  }\n\n  return r;\n};\n\n/**\n * Converts a string into an array of ascii codes.\n *\n * @param str  ascii string\n * @return Uint8Array\n */\nUtils.arrayFromString = function(str) {\n  Jose.assert(Utils.isString(str), \"arrayFromString: invalid input\");\n  var arr = str.split('').map(function(c) {\n    return c.charCodeAt(0);\n  });\n  return new Uint8Array(arr);\n};\n\n/**\n * Converts a string into an array of utf-8 codes.\n *\n* @param str  utf-8 string\n * @return Uint8Array\n */\nUtils.arrayFromUtf8String = function(str) {\n  Jose.assert(Utils.isString(str), \"arrayFromUtf8String: invalid input\");\n  // javascript represents strings as utf-16. Jose imposes the use of\n  // utf-8, so we need to convert from one representation to the other.\n  str = unescape(encodeURIComponent(str));\n  return Utils.arrayFromString(str);\n};\n\n/**\n * Converts an array of ascii bytes into a string.\n *\n * @param arr  arrayish\n * @return ascii string\n */\nUtils.stringFromArray = function(arr) {\n  arr = Utils.arrayish(arr);\n  var r = '';\n  for (var i = 0; i < arr.length; i++) {\n    r += String.fromCharCode(arr[i]);\n  }\n\n  return r;\n};\n\n/**\n * Converts an array of ascii bytes into a string.\n *\n * @param arr  ArrayBuffer\n * @return ascii string\n */\nUtils.utf8StringFromArray = function(arr) {\n  Jose.assert(arr instanceof ArrayBuffer, \"utf8StringFromArray: invalid input\");\n\n  // javascript represents strings as utf-16. Jose imposes the use of\n  // utf-8, so we need to convert from one representation to the other.\n  var r = Utils.stringFromArray(arr);\n  return decodeURIComponent(escape(r));\n};\n\n/**\n * Strips leading zero in an array.\n *\n * @param arr  arrayish\n * @return array\n */\nUtils.stripLeadingZeros = function(arr) {\n  if (arr instanceof ArrayBuffer) {\n    arr = new Uint8Array(arr);\n  }\n  var is_leading_zero = true;\n  var r = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (is_leading_zero && arr[i] === 0) {\n      continue;\n    }\n    is_leading_zero = false;\n    r.push(arr[i]);\n  }\n  return r;\n};\n\n/**\n * Converts a number into an array of 4 bytes (big endian).\n *\n * @param i  number\n * @return ArrayBuffer\n */\nUtils.arrayFromInt32 = function(i) {\n  Jose.assert(typeof(i) == \"number\", \"arrayFromInt32: invalid input\");\n  Jose.assert(i == i | 0, \"arrayFromInt32: out of range\");\n\n  var buf = new Uint8Array(new Uint32Array([i]).buffer);\n  var r = new Uint8Array(4);\n  for (var j = 0; j < 4; j++) {\n    r[j] = buf[3 - j];\n  }\n  return r.buffer;\n};\n\n/**\n * Concatenates arrayishes.\n *\n * @param arguments two or more arrayishes\n * @return Uint8Array\n */\nUtils.arrayBufferConcat = function(/* ... */) {\n  // Compute total size\n  var args = [];\n  var total = 0;\n  for (var i = 0; i < arguments.length; i++) {\n    args.push(Utils.arrayish(arguments[i]));\n    total += args[i].length;\n  }\n  var r = new Uint8Array(total);\n  var offset = 0;\n  for (i = 0; i < arguments.length; i++) {\n    for (var j = 0; j < args[i].length; j++) {\n      r[offset++] = args[i][j];\n    }\n  }\n  Jose.assert(offset == total, \"arrayBufferConcat: unexpected offset\");\n  return r;\n};\n\nUtils.Base64Url = {};\n\n/**\n * Base64Url encodes a string (no trailing '=')\n *\n * @param str  string\n * @return string\n */\nUtils.Base64Url.encode = function(str) {\n  Jose.assert(Utils.isString(str), \"Base64Url.encode: invalid input\");\n  return btoa(str)\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\")\n    .replace(/=+$/, \"\");\n};\n\n/**\n * Base64Url encodes an array\n *\n * @param arr array or ArrayBuffer\n * @return string\n */\nUtils.Base64Url.encodeArray = function(arr) {\n  return Utils.Base64Url.encode(Utils.stringFromArray(arr));\n};\n\n/**\n * Base64Url decodes a string\n *\n * @param str  string\n * @return string\n */\nUtils.Base64Url.decode = function(str) {\n  Jose.assert(Utils.isString(str), \"Base64Url.decode: invalid input\");\n  // atob is nice and ignores missing '='\n  return atob(str.replace(/-/g, \"+\").replace(/_/g, \"/\"));\n};\n\nUtils.Base64Url.decodeArray = function(str) {\n  Jose.assert(Utils.isString(str), \"Base64Url.decodeArray: invalid input\");\n  return Utils.arrayFromString(Utils.Base64Url.decode(str));\n};\n\nUtils.sha256 = function(str) {\n  // Browser docs indicate the first parameter to crypto.subtle.digest to be a\n  // DOMString. This was initially implemented as an object and continues to be\n  // supported, so we favor the older form for backwards compatibility.\n  return Jose.crypto.subtle.digest({name: \"SHA-256\"}, Utils.arrayFromString(str)).then(function(hash) {\n    return Utils.Base64Url.encodeArray(hash);\n  });\n};\n\nUtils.isCryptoKey = function(rsa_key) {\n  // Some browsers don't expose the CryptoKey as an object, so we need to check\n  // the constructor's name.\n  if (rsa_key.constructor.name == 'CryptoKey') {\n    return true;\n  }\n\n  // In the presence of minifiers, relying on class names can be problematic,\n  // so let's also allow objects that have an 'algorithm' property.\n  if (rsa_key.hasOwnProperty('algorithm')) {\n    return true;\n  }\n\n  return false;\n};\n\n/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Handles encryption.\n *\n * @param cryptographer  an instance of WebCryptographer (or equivalent).\n * @param key_promise    Promise<CryptoKey>, either RSA or shared key\n */\nJoseJWE.Encrypter = function(cryptographer, key_promise) {\n  this.cryptographer = cryptographer;\n  this.key_promise = key_promise;\n  this.userHeaders = {};\n};\n\n/**\n * Adds a key/value pair which will be included in the header.\n *\n * The data lives in plaintext (an attacker can read the header) but is tamper\n * proof (an attacker cannot modify the header).\n *\n * Note: some headers have semantic implications. E.g. if you set the \"zip\"\n * header, you are responsible for properly compressing plain_text before\n * calling encrypt().\n *\n * @param k  String\n * @param v  String\n */\nJoseJWE.Encrypter.prototype.addHeader = function(k, v) {\n  this.userHeaders[k] = v;\n};\n\n/**\n * Performs encryption.\n *\n * @param plain_text  utf-8 string\n * @return Promise<String>\n */\nJoseJWE.Encrypter.prototype.encrypt = function(plain_text) {\n  /**\n   * Encrypts plain_text with CEK.\n   *\n   * @param cek_promise  Promise<CryptoKey>\n   * @param plain_text   string\n   * @return Promise<json>\n   */\n  var encryptPlainText = function(cek_promise, plain_text) {\n    // Create header\n    var headers = {};\n    for (var i in this.userHeaders) {\n      headers[i] = this.userHeaders[i];\n    }\n    headers.alg = this.cryptographer.getKeyEncryptionAlgorithm();\n    headers.enc = this.cryptographer.getContentEncryptionAlgorithm();\n    var jwe_protected_header = Utils.Base64Url.encode(JSON.stringify(headers));\n\n    // Create the IV\n    var iv = this.cryptographer.createIV();\n\n    // Create the AAD\n    var aad = Utils.arrayFromString(jwe_protected_header);\n    plain_text = Utils.arrayFromUtf8String(plain_text);\n\n    return this.cryptographer.encrypt(iv, aad, cek_promise, plain_text).then(function(r) {\n      r.header = jwe_protected_header;\n      r.iv = iv;\n      return r;\n    });\n  };\n\n  var cek_promise, encrypted_cek;\n\n  if (this.cryptographer.getKeyEncryptionAlgorithm() == \"dir\") {\n    // with direct encryption, this.key_promise provides the cek\n    // and encrypted_cek is empty\n    cek_promise = Promise.resolve(this.key_promise);\n    encrypted_cek = [];\n  } else {\n    // Create a CEK key\n    cek_promise = this.cryptographer.createCek();\n\n    // Key & Cek allows us to create the encrypted_cek\n    encrypted_cek = Promise.all([this.key_promise, cek_promise]).then(function (all) {\n      var key = all[0];\n      var cek = all[1];\n      return this.cryptographer.wrapCek(cek, key);\n    }.bind(this));\n  }\n\n  // Cek allows us to encrypy the plain text\n  var enc_promise = encryptPlainText.bind(this, cek_promise, plain_text)();\n\n  // Once we have all the promises, we can base64 encode all the pieces.\n  return Promise.all([encrypted_cek, enc_promise]).then(function(all) {\n    var encrypted_cek = all[0];\n    var data = all[1];\n    return data.header + \".\" +\n      Utils.Base64Url.encodeArray(encrypted_cek) + \".\" +\n      Utils.Base64Url.encodeArray(data.iv) + \".\" +\n      Utils.Base64Url.encodeArray(data.cipher) + \".\" +\n      Utils.Base64Url.encodeArray(data.tag);\n  });\n};\n\n/*-\n * Copyright 2014 Square Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Handles decryption.\n *\n * @param cryptographer  an instance of WebCryptographer (or equivalent). Keep\n *                       in mind that decryption mutates the cryptographer.\n * @param key_promise    Promise<CryptoKey>, either RSA or shared key\n */\nJoseJWE.Decrypter = function(cryptographer, key_promise) {\n  this.cryptographer = cryptographer;\n  this.key_promise = key_promise;\n  this.headers = {};\n};\n\nJoseJWE.Decrypter.prototype.getHeaders = function() {\n  return this.headers;\n};\n\n/**\n * Performs decryption.\n *\n * @param cipher_text  String\n * @return Promise<String>\n */\nJoseJWE.Decrypter.prototype.decrypt = function(cipher_text) {\n  // Split cipher_text in 5 parts\n  var parts = cipher_text.split(\".\");\n  if (parts.length != 5) {\n    return Promise.reject(Error(\"decrypt: invalid input\"));\n  }\n\n  // part 1: header\n  this.headers = JSON.parse(Utils.Base64Url.decode(parts[0]));\n  if (!this.headers.alg) {\n    return Promise.reject(Error(\"decrypt: missing alg\"));\n  }\n  if (!this.headers.enc) {\n    return Promise.reject(Error(\"decrypt: missing enc\"));\n  }\n  this.cryptographer.setKeyEncryptionAlgorithm(this.headers.alg);\n  this.cryptographer.setContentEncryptionAlgorithm(this.headers.enc);\n\n  if (this.headers.crit) {\n    // We don't support the crit header\n    return Promise.reject(Error(\"decrypt: crit is not supported\"));\n  }\n\n  var cek_promise;\n\n  if (this.headers.alg == \"dir\") {\n    // with direct mode, we already have the cek\n    cek_promise = Promise.resolve(this.key_promise);\n  } else {\n    // part 2: decrypt the CEK\n    // In some modes (e.g. RSA-PKCS1v1.5), you must take precautions to prevent\n    // chosen-ciphertext attacks as described in RFC 3218, \"Preventing\n    // the Million Message Attack on Cryptographic Message Syntax\". We currently\n    // only support RSA-OAEP, so we don't generate a key if unwrapping fails.\n    var encrypted_cek = Utils.Base64Url.decodeArray(parts[1]);\n    cek_promise = this.key_promise.then(function (key) {\n      return this.cryptographer.unwrapCek(encrypted_cek, key);\n    }.bind(this));\n  }\n\n  // part 3: decrypt the cipher text\n  var plain_text_promise = this.cryptographer.decrypt(\n    cek_promise,\n    Utils.arrayFromString(parts[0]),\n    Utils.Base64Url.decodeArray(parts[2]),\n    Utils.Base64Url.decodeArray(parts[3]),\n    Utils.Base64Url.decodeArray(parts[4]));\n\n  return plain_text_promise.then(Utils.utf8StringFromArray);\n};\n\n/*-\n * Copyright 2015 Peculiar Ventures\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Handles decryption.\n *\n * @param cryptographer  an instance of WebCryptographer (or equivalent). Keep\n *                       in mind that decryption mutates the cryptographer.\n *\n * @author Patrizio Bruno <patrizio@desertconsulting.net>\n */\nJoseJWS.Signer = function(cryptographer) {\n  this.cryptographer = cryptographer;\n\n  this.key_promises = {};\n  this.waiting_kid = 0;\n  this.headers = {};\n  this.signer_aads = {};\n  this.signer_headers = {};\n};\n\n/**\n * Adds a signer to JoseJWS instance. It'll be the on of the signers of the resulting JWS.\n *\n * @param rsa_key        private RSA key in json format, Parameters can be base64\n *                       encoded, strings or number (for 'e'). Or CryptoKey\n * @param key_id         a string identifying the rsa_key. OPTIONAL\n * @param aad            Object protected header\n * @param header         Object unprotected header\n */\nJoseJWS.Signer.prototype.addSigner = function(rsa_key, key_id, aad, header) {\n  var that = this;\n  var key_promise;\n  if (Utils.isCryptoKey(rsa_key)) {\n    key_promise = new Promise(function(resolve) {\n      resolve(rsa_key);\n    });\n  } else {\n    var alg;\n    if (aad && aad.alg) {\n      alg = aad.alg;\n    } else {\n      alg = that.cryptographer.getContentSignAlgorithm();\n    }\n    key_promise = Jose.Utils.importRsaPrivateKey(rsa_key, alg, \"sign\");\n  }\n\n  var kid_promise;\n  if (key_id) {\n    kid_promise = new Promise(function(resolve) {\n      resolve(key_id);\n    });\n  } else if (Utils.isCryptoKey(rsa_key)) {\n    throw new Error(\"key_id is a mandatory argument when the key is a CryptoKey\");\n  } else {\n    kid_promise = Jose.WebCryptographer.keyId(rsa_key);\n  }\n\n  that.waiting_kid++;\n\n  return kid_promise.then(function(kid) {\n    that.key_promises[kid] = key_promise;\n    that.waiting_kid--;\n    if (aad) {\n      that.signer_aads[kid] = aad;\n    }\n    if (header) {\n      that.signer_headers[kid] = header;\n    }\n    return kid;\n  });\n};\n\n/**\n * Adds a signature to a JWS object\n * @param jws JWS Object to be signed or its representation\n * @param aad     Object protected header\n * @param header  Object unprotected header\n * @return Promise<String>\n */\nJoseJWS.Signer.prototype.addSignature = function(jws, aad, header) {\n  if (Utils.isString(jws)) {\n    jws = JSON.parse(jws);\n  }\n\n  if (jws.payload && Utils.isString(jws.payload) &&\n    jws.protected && Utils.isString(jws.protected) &&\n    jws.header && jws.header instanceof Object &&\n    jws.signature && Utils.isString(jws.signature)) {\n    return this.sign(JWS.fromObject(jws), aad, header);\n  } else {\n    throw new Error(\"JWS is not a valid JWS object\");\n  }\n};\n\n/**\n * Computes signature.\n *\n * @param payload JWS Object or utf-8 string to be signed\n * @param aad     Object protected header\n * @param header  Object unprotected header\n * @return Promise<JWS>\n */\nJoseJWS.Signer.prototype.sign = function(payload, aad, header) {\n\n  var that = this;\n  var kids = [];\n\n  if (Object.keys(that.key_promises).length === 0) {\n    throw new Error(\"No signers defined. At least one is required to sign the JWS.\");\n  }\n\n  if (that.waiting_kid) {\n    throw new Error(\"still generating key IDs\");\n  }\n\n  function sign (message, protectedHeader, unprotectedHeader, rsa_key_promise, kid) {\n    var toBeSigned;\n\n    if (!protectedHeader) {\n      protectedHeader = {};\n    }\n\n    if (!protectedHeader.alg) {\n      protectedHeader.alg = that.cryptographer.getContentSignAlgorithm();\n      protectedHeader.typ = \"JWT\";\n    }\n\n    if (!protectedHeader.kid) {\n      protectedHeader.kid = kid;\n    }\n\n    if (Utils.isString(message)) {\n      toBeSigned = Utils.arrayFromUtf8String(message);\n    } else {\n      try {\n        toBeSigned = Utils.arrayish(message);\n      } catch (e) {\n        if (message instanceof JWS) {\n          toBeSigned = Utils.arrayFromString(Utils.Base64Url.decode(message.payload));\n        } else if (message instanceof Object) {\n          toBeSigned = Utils.arrayFromUtf8String(JSON.stringify(message));\n        } else {\n          throw new Error(\"cannot sign this message\");\n        }\n      }\n    }\n\n    return that.cryptographer.sign(protectedHeader, toBeSigned, rsa_key_promise).then(function(signature) {\n      var jws = new JWS(protectedHeader, unprotectedHeader, toBeSigned, signature);\n      if (message instanceof JWS) {\n        delete jws.payload;\n        if (!message.signatures) {\n          message.signatures = [jws];\n        } else {\n          message.signatures.push(jws);\n        }\n        return message;\n      }\n      return jws;\n    });\n  }\n\n  function doSign (pl, ph, uh, kps, kids) {\n    if (kids.length) {\n      var k_id = kids.shift();\n      var rv = sign(pl, that.signer_aads[k_id] || ph, that.signer_headers[k_id] || uh, kps[k_id], k_id);\n      if (kids.length) {\n        rv = rv.then(function(jws) {\n          return doSign(jws, null, null, kps, kids);\n        });\n      }\n      return rv;\n    }\n  }\n\n  for(var kid in that.key_promises) {\n    if (that.key_promises.hasOwnProperty(kid)) {\n      kids.push(kid);\n    }\n  }\n  return doSign(payload, aad, header, that.key_promises, kids);\n};\n\n\n/**\n * Initialize a JWS object.\n *\n * @param protectedHeader protected header (JS object)\n * @param payload Uint8Array payload to be signed\n * @param signature ArrayBuffer signature of the payload\n * @param header unprotected header (JS object)\n *\n * @constructor\n */\nvar JWS = function(protectedHeader, header, payload, signature) {\n  this.header = header;\n  this.payload = Utils.Base64Url.encodeArray(payload);\n  if (signature) {\n    this.signature = Utils.Base64Url.encodeArray(signature);\n  }\n  this.protected = Utils.Base64Url.encode(JSON.stringify(protectedHeader));\n};\n\nJWS.fromObject = function(obj) {\n  var rv = new JWS(obj.protected, obj.header, obj.payload, null);\n  rv.signature = obj.signature;\n  rv.signatures = obj.signatures;\n  return rv;\n};\n\n/**\n * Serialize a JWS object using the JSON serialization format\n *\n * @returns {Object} a copy of this\n */\nJWS.prototype.JsonSerialize = function() {\n  return JSON.stringify(this);\n};\n\n/**\n * Serialize a JWS object using the Compact Serialization Format\n *\n * @returns {string} BASE64URL(UTF8(PROTECTED HEADER)).BASE64URL(PAYLOAD).BASE64URL(SIGNATURE)\n */\nJWS.prototype.CompactSerialize = function() {\n  return this.protected + '.' + this.payload + '.' + this.signature;\n};\n\n/*-\n * Copyright 2015 Peculiar Ventures\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Handles signature verification.\n *\n * @param cryptographer  an instance of WebCryptographer (or equivalent). Keep\n *                       in mind that decryption mutates the cryptographer.\n * @param message        a JWS message\n * @param keyfinder (optional) a function returning a Promise<CryptoKey> given\n *                             a key id\n *\n * @author Patrizio Bruno <patrizio@desertconsulting.net>\n */\nJoseJWS.Verifier = function (cryptographer, message, keyfinder) {\n\n  var that = this,\n    alg,\n    jwt,\n    aad,\n    header,\n    payload,\n    signatures,\n    protectedHeader,\n    jwtRx = /^([0-9a-z_\\-]+)\\.([0-9a-z_\\-]+)\\.([0-9a-z_\\-]+)$/i;\n\n  that.cryptographer = cryptographer;\n\n  alg = cryptographer.getContentSignAlgorithm();\n\n  that.cryptographer = new Jose.WebCryptographer();\n\n  if (Utils.isString(message)) {\n    if ((jwt = jwtRx.exec(message))) {\n      if (jwt.length != 4) {\n        throw new Error(\"wrong JWS compact serialization format\");\n      }\n\n      message = {\n        protected: jwt[1],\n        payload: jwt[2],\n        signature: jwt[3]\n      };\n    } else {\n      message = JSON.parse(message);\n    }\n  } else if (typeof message != \"object\") {\n    throw new Error(\"data format not supported\");\n  }\n\n  aad = message.protected;\n  header = message.header;\n  payload = message.payload;\n  signatures = message.signatures instanceof Array ? message.signatures.slice(0) : [];\n\n  signatures.forEach(function (sign) {\n    sign.aad = sign.protected;\n    sign.protected = JSON.parse(Utils.Base64Url.decode(sign.protected));\n  });\n\n  that.aad = aad;\n  protectedHeader = Utils.Base64Url.decode(aad);\n  try {\n    protectedHeader = JSON.parse(protectedHeader);\n  } catch (e) {\n  }\n\n  if (!protectedHeader && !header) {\n    throw new Error(\"at least one header is required\");\n  }\n\n  if (!protectedHeader.alg) {\n    throw new Error(\"'alg' is a mandatory header\");\n  }\n\n  if (protectedHeader.alg != alg) {\n    throw new Error(\"the alg header '\" + protectedHeader.alg + \"' doesn't match the requested algorithm '\" + alg + \"'\");\n  }\n\n  if (protectedHeader && protectedHeader.typ && protectedHeader.typ != \"JWT\") {\n    throw new Error(\"typ '\" + protectedHeader.typ + \"' not supported\");\n  }\n\n  if (message.signature) {\n    signatures.unshift({\n      aad: aad,\n      protected: protectedHeader,\n      header: header,\n      signature: message.signature\n    });\n  }\n\n  that.signatures = [];\n  for(var i = 0; i < signatures.length; i++) {\n    that.signatures[i] = JSON.parse(JSON.stringify(signatures[i]));\n    that.signatures[i].signature = Utils.arrayFromString(Utils.Base64Url.decode(signatures[i].signature));\n  }\n\n  that.payload = payload;\n\n  that.key_promises = {};\n  that.waiting_kid = 0;\n\n  if (keyfinder) {\n    that.keyfinder = keyfinder;\n  }\n};\n\n/**\n * Add supported recipients to verify multiple signatures\n *\n * @param rsa_key        public RSA key in json format. Parameters can be base64\n *                       encoded, strings or number (for 'e').\n * @param key_id         a string identifying the rsa_key. OPTIONAL\n * @param alg            String signature algorithm. OPTIONAL\n * @returns Promise<string> a Promise of a key id\n */\nJoseJWS.Verifier.prototype.addRecipient = function (rsa_key, key_id, alg) {\n\n  var that = this,\n    kid_promise,\n    key_promise = Utils.isCryptoKey(rsa_key) ? new Promise(function (resolve) {\n      resolve(rsa_key);\n    }) : Jose.Utils.importRsaPublicKey(rsa_key, alg || that.cryptographer.getContentSignAlgorithm(), \"verify\");\n\n  if (key_id) {\n    kid_promise = new Promise(function (resolve) {\n      resolve(key_id);\n    });\n  } else if (Utils.isCryptoKey(rsa_key)) {\n    throw new Error(\"key_id is a mandatory argument when the key is a CryptoKey\");\n  } else {\n    console.log(\"it's not safe to not pass a key_id\");\n    kid_promise = Jose.WebCryptographer.keyId(rsa_key);\n  }\n\n  that.waiting_kid++;\n\n  return kid_promise.then(function (kid) {\n    that.key_promises[kid] = key_promise;\n    that.waiting_kid--;\n    return kid;\n  });\n};\n\n/**\n * Verifies a JWS signature\n *\n * @returns Promise<Array> a Promise of an array of objects { kid: string, verified: bool, payload?: string }\n *\n * payload is only populated and usable if verified is true\n */\nJoseJWS.Verifier.prototype.verify = function () {\n\n  var that = this,\n    signatures = that.signatures,\n    key_promises = that.key_promises,\n    keyfinder = that.keyfinder,\n    promises = [],\n    check = !!keyfinder || Object.keys(that.key_promises).length > 0;\n\n  if (!check) {\n    throw new Error(\"No recipients defined. At least one is required to verify the JWS.\");\n  }\n\n  if (that.waiting_kid) {\n    throw new Error(\"still generating key IDs\");\n  }\n\n  signatures.forEach(function (sig) {\n    var kid = sig.protected.kid;\n    if (keyfinder) {\n      key_promises[kid] = keyfinder(kid);\n    }\n    promises.push(that.cryptographer.verify(sig.aad, that.payload, sig.signature, key_promises[kid], kid)\n      .then(function (vr) {\n        if (vr.verified) {\n          vr.payload = Utils.Base64Url.decode(that.payload);\n        }\n        return vr;\n      }));\n  });\n  return Promise.all(promises);\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = require('./lib/axios');","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  // Only Node.JS has a process variable that is of [[Class]] process\n  if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  } else if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  utils.forEach(['url', 'method', 'params', 'data'], function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(['headers', 'auth', 'proxy'], function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach([\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'maxContentLength',\n    'validateStatus', 'maxRedirects', 'httpAgent', 'httpsAgent', 'cancelToken',\n    'socketPath'\n  ], function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n  config.method = config.method ? config.method.toLowerCase() : 'get';\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","export const DB_NAME = \"seven23\";\nexport const DB_VERSION = 15; // Cannot rollback after creation\nexport const API_DEFAULT_URL = \"https://seven23.io\";\n\nexport const ATTACHMENT_DELETE_REQUEST = \"ATTACHMENT_DELETE_REQUEST\";\nexport const UPDATE_ENCRYPTION = \"UPDATE_ENCRYPTION\";\nexport const ENCRYPTION_KEY_CHANGED = \"ENCRYPTION_KEY_CHANGED\";\nexport const ENCRYPTION_ERROR = \"ENCRYPTION_ERROR\";\nexport const FLUSH = \"FLUSH\";\nexport const RESET = \"RESET\";\nexport const POPUP = \"POPUP\";\n\nexport const CATEGORIES_CREATE_REQUEST = \"CATEGORIES_CREATE_REQUEST\";\nexport const CATEGORIES_READ_REQUEST = \"CATEGORIES_READ_REQUEST\";\nexport const CATEGORIES_UPDATE_REQUEST = \"CATEGORIES_UPDATE_REQUEST\";\nexport const CATEGORIES_DELETE_REQUEST = \"CATEGORIES_DELETE_REQUEST\";\nexport const CATEGORIES_RESET = \"CATEGORIES_RESET\";\nexport const CATEGORIES_EXPORT = \"CATEGORIES_EXPORT\";\n\nexport const CHANGES_CREATE_REQUEST = \"CHANGES_CREATE_REQUEST\";\nexport const CHANGES_READ_REQUEST = \"CHANGES_READ_REQUEST\";\nexport const CHANGES_UPDATE_REQUEST = \"CHANGES_UPDATE_REQUEST\";\nexport const CHANGES_DELETE_REQUEST = \"CHANGES_DELETE_REQUEST\";\nexport const CHANGES_EXPORT = \"CHANGES_EXPORT\";\n\nexport const TRANSACTIONS_CREATE_REQUEST = \"TRANSACTIONS_CREATE_REQUEST\";\nexport const TRANSACTIONS_READ_REQUEST = \"TRANSACTIONS_READ_REQUEST\";\nexport const TRANSACTIONS_UPDATE_REQUEST = \"TRANSACTIONS_UPDATE_REQUEST\";\nexport const TRANSACTIONS_DELETE_REQUEST = \"TRANSACTIONS_DELETE_REQUEST\";\nexport const TRANSACTIONS_EXPORT = \"TRANSACTIONS_EXPORT\";\nexport const TRANSACTIONS_SYNC_REQUEST = \"TRANSACTIONS_SYNC_REQUEST\";\nexport const TRANSACTIONS_SWITCH_ID = \"TRANSACTIONS_SWITCH_ID\";\n\nexport const ACCOUNTS_CREATE_REQUEST = \"ACCOUNTS_CREATE_REQUEST\";\nexport const ACCOUNTS_SYNC_REQUEST = \"ACCOUNTS_SYNC_REQUEST\";\nexport const ACCOUNTS_UPDATE_REQUEST = \"ACCOUNTS_UPDATE_REQUEST\";\nexport const ACCOUNTS_DELETE_REQUEST = \"ACCOUNTS_DELETE_REQUEST\";\nexport const ACCOUNTS_CURRENCY_REQUEST = \"ACCOUNTS_CURRENCY_REQUEST\";\nexport const ACCOUNTS_SWITCH_REQUEST = \"ACCOUNTS_SWITCH_REQUEST\";\n\nexport const ACCOUNTS_IMPORT = \"ACCOUNTS_IMPORT\";\n\nexport const CURRENCIES_SYNC_REQUEST = \"CURRENCIES_SYNC_REQUEST\";\nexport const CURRENCIES_CREATE_REQUEST = \"CURRENCIES_CREATE_REQUEST\";\nexport const CURRENCIES_READ_REQUEST = \"CURRENCIES_READ_REQUEST\";\nexport const CURRENCIES_UPDATE_REQUEST = \"CURRENCIES_UPDATE_REQUEST\";\nexport const CURRENCIES_DELETE_REQUEST = \"CURRENCIES_DELETE_REQUEST\";\nexport const CURRENCIES_RESET = \"CURRENCIES_RESET\";\n\nexport const USER_LOGIN = \"LOGIN\";\nexport const USER_LOGOUT = \"LOGOUT\";\nexport const USER_FETCH_PROFILE = \"USER_FETCH_PROFILE\";\nexport const USER_CREATE_REQUEST = \"USER_CREATE_REQUEST\";\nexport const USER_READ_REQUEST = \"USER_READ_REQUEST\";\nexport const USER_UPDATE_REQUEST = \"USER_UPDATE_REQUEST\";\nexport const USER_CHANGE_PASSWORD = \"USER_CHANGE_PASSWORD\";\nexport const USER_CHANGE_EMAIL = \"USER_CHANGE_EMAIL\";\n\nexport const USER_FETCH_TOKEN = \"USER_FETCH_TOKEN\";\nexport const USER_REVOKE_TOKEN = \"USER_REVOKE_TOKEN\";\nexport const USER_DELETE_REQUEST = \"USER_DELETE_REQUEST\";\nexport const USER_CHANGE_THEME = \"USER_CHANGE_THEME\";\nexport const USER_UPDATE_NETWORK = \"USER_UPDATE_NETWORK\";\n\nexport const SERVER_CONNECTING = \"SERVER_CONNECTING\";\nexport const SERVER_CONNECT = \"SERVER_CONNECT\";\nexport const SERVER_CONNECT_FAIL = \"SERVER_CONNECT_FAIL\";\nexport const SERVER_SYNC = \"SERVER_SYNC\";\nexport const SERVER_SYNCED = \"SERVER_SYNCED\";\nexport const SERVER_LOADED = \"SERVER_LOADED\";\nexport const SERVER_LOGGED = \"SERVER_LOGGED\";\nexport const SERVER_LAST_EDITED = \"SERVER_LAST_EDITED\";\nexport const SERVER_INIT = \"SERVER_INIT\";\nexport const SERVER_UNDER_MAINTENANCE = \"SERVER_UNDER_MAINTENANCE\";\nexport const SERVER_ERROR = \"SERVER_ERROR\";\n\nexport const STATISTICS_DASHBOARD = \"STATISTICS_DASHBOARD\";\nexport const STATISTICS_VIEWER = \"STATISTICS_VIEWER\";\nexport const STATISTICS_PER_DATE = \"STATISTICS_PER_DATE\";\nexport const STATISTICS_PER_CATEGORY = \"STATISTICS_PER_CATEGORY\";\nexport const STATISTICS_SEARCH = \"STATISTICS_SEARCH\";\nexport const STATISTICS_NOMADLIST = \"STATISTICS_NOMADLIST\";\n\nexport const REPORT_SET_DATES = \"REPORT_SET_DATES\";\nexport const NAVIGATE = \"NAVIGATE\";\nexport const SNACKBAR = \"SNACKBAR\";\nexport const SNACKBAR_POP = \"SNACKBAR_POP\";\nexport const APP_LAST_SEEN = \"APP_LAST_SEEN\";\nexport const VISIBILITY = \"VISIBILITY\";\nexport const CACHE_DID_UPDATE = \"CACHE_DID_UPDATE\";\n\nexport const CHANGE_EVENT = \"CHANGE_EVENT\";\nexport const ADD_EVENT = \"ADD_EVENT\";\nexport const DELETE_EVENT = \"DELETE_EVENT\";\nexport const UPDATE_EVENT = \"UPDATE_EVENT\";\n","// import jose from 'node-jose';\n\nimport { Jose, JoseJWE } from \"jose-jwe-jws\";\n\nfunction arrayFromString(str) {\n  var arr = str.split(\"\").map(function(c) {\n    return c.charCodeAt(0);\n  });\n  return new Uint8Array(arr);\n}\n\nfunction b64tob64u(a) {\n  a = a.replace(/\\=/g, \"\");\n  a = a.replace(/\\+/g, \"-\");\n  a = a.replace(/\\//g, \"_\");\n  return a;\n}\n\nfunction _arrayBufferToBase64(buffer) {\n  var binary = \"\";\n  var bytes = new Uint8Array(buffer);\n  var len = bytes.byteLength;\n  for (var i = 0; i < len; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return b64tob64u(btoa(binary));\n}\n\nconst ERROR_NO_KEY =\n  \"Encryption Key missing. Please use Encryption.key(input) before processing data.\";\nexport class Encryption {\n  constructor() {\n    this.cryptographer = new Jose.WebCryptographer();\n    this.cryptographer.setKeyEncryptionAlgorithm(\"A256KW\");\n    this.cryptographer.setContentEncryptionAlgorithm(\"A128CBC-HS256\");\n\n    this.encrypter = null;\n    this.decrypter = null;\n\n    this._key = null;\n  }\n\n  key = key => {\n    const that = this;\n    return new Promise((resolve, reject) => {\n      Jose.crypto.subtle\n        .digest({ name: \"SHA-256\" }, arrayFromString(key))\n        .then(function(hash) {\n          that._key = Jose.crypto.subtle.importKey(\n            \"jwk\",\n            {\n              kty: \"oct\",\n              k: _arrayBufferToBase64(hash),\n              length: 256,\n              alg: \"A256KW\"\n            },\n            { name: \"AES-KW\" },\n            true,\n            [\"wrapKey\", \"unwrapKey\"]\n          );\n\n          that._key\n            .then(_ => {\n              that.encrypter = new JoseJWE.Encrypter(\n                that.cryptographer,\n                that._key\n              );\n              that.decrypter = new JoseJWE.Decrypter(\n                that.cryptographer,\n                that._key\n              );\n              resolve();\n            })\n            .catch(reject);\n        });\n    });\n  };\n\n  // Input is a string.\n  encrypt = input => {\n    if (!this._key) {\n      throw new Error(ERROR_NO_KEY);\n    }\n    const that = this;\n    return new Promise((resolve, reject) => {\n      that.encrypter\n        .encrypt(JSON.stringify(input))\n        .then(function(result) {\n          resolve(result);\n        })\n        .catch(function(err) {\n          console.error(err);\n          reject();\n        });\n    });\n  };\n\n  // Input is a string.\n  decrypt = input => {\n    const that = this;\n    return new Promise((resolve, reject) => {\n      that.decrypter\n        .decrypt(input)\n        .then(function(decrypted_plain_text) {\n          resolve(JSON.parse(decrypted_plain_text));\n        })\n        .catch(function(err) {\n          console.error(err);\n          reject();\n        });\n    });\n  };\n\n  reset = () => {\n    this._key = null;\n  };\n}\n\nlet EncryptionInstance = new Encryption();\n\nexport default EncryptionInstance;\n","import { DB_NAME, DB_VERSION } from \"./constants\";\n\nexport class Storage {\n  constructor() {}\n\n  connectIndexedDB() {\n    return new Promise(function(resolve, reject) {\n      try {\n        let request = indexedDB.open(DB_NAME, DB_VERSION);\n        request.onupgradeneeded = function(event) {\n          let connection = event.target.result;\n\n          // Purge indexedb\n          [...connection.objectStoreNames].forEach(item => {\n            connection.deleteObjectStore(item);\n          });\n\n          // Create an objectStore to hold information about our customers. We're\n          // going to use \"ssn\" as our key path because it's guaranteed to be\n          // unique - or at least that's what I was told during the kickoff meeting.\n          var objectStore = connection.createObjectStore(\"transactions\", {\n            keyPath: \"id\"\n          });\n          objectStore.createIndex(\"account\", \"account\", { unique: false });\n          objectStore.createIndex(\"date\", \"date\", { unique: false });\n          objectStore.createIndex(\"category\", [\"account\", \"category\"], {\n            unique: false\n          });\n\n          objectStore = connection.createObjectStore(\"changes\", {\n            keyPath: \"id\"\n          });\n          objectStore.createIndex(\"account\", \"account\", { unique: false });\n\n          objectStore = connection.createObjectStore(\"categories\", {\n            keyPath: \"id\"\n          });\n          objectStore.createIndex(\"account\", \"account\", { unique: false });\n        };\n        request.onblocked = function(event) {\n          console.error(event);\n          reject(event);\n        };\n\n        request.onerror = function(event) {\n          console.error(request.error);\n          reject(event);\n        };\n        request.onsuccess = function(event) {\n          resolve(event.target.result);\n        };\n      } catch (err) {\n        console.error(err);\n        reject(err);\n      }\n    });\n  }\n\n  reset() {}\n}\n\nlet StorageInstance = new Storage();\n\nexport default StorageInstance;\n","import { DB_NAME, DB_VERSION } from \"../../constants\";\nimport storage from \"../../storage\";\n\nvar firstRating = {};\n\n/*\nReturn a list of changes, based on accountId.\nEach change include the change details, 'rates' and 'secondDegree' for each Transactions based on\nprevious changes (which is why it's called a chain).\nFirstRating is filled at each first new rate to complete before first rate transaction.\n */\nfunction getChangeChain(accountId) {\n  return new Promise((resolve, reject) => {\n    var chain = [];\n    var lastItem = {};\n    var changes = [];\n\n    storage.connectIndexedDB().then(connection => {\n      var index = connection\n        .transaction(\"changes\")\n        .objectStore(\"changes\")\n        .index(\"account\");\n\n      var keyRange = IDBKeyRange.only(accountId);\n      let cursor = index.openCursor(keyRange);\n\n      cursor.onsuccess = function(event) {\n        var cursor = event.target.result;\n        if (cursor) {\n          let change = event.target.result.value;\n          // We calculate exchange_rate which is no longer provided by API\n          change.date = new Date(change.date);\n          change.exchange_rate =\n            parseFloat(change.new_amount) / parseFloat(change.local_amount);\n          changes.push(change);\n          cursor.continue();\n        } else {\n          changes = changes.sort((a, b) => {\n            return a.date > b.date ? 1 : -1;\n          });\n\n          for (var i in changes) {\n            var item = Object.assign(\n              {},\n              {\n                id: changes[i].id,\n                account: changes[i].account,\n                name: changes[i].name,\n                local_amount: changes[i].local_amount,\n                local_currency: changes[i].local_currency,\n                new_amount: changes[i].new_amount,\n                new_currency: changes[i].new_currency,\n                date: new Date(changes[i].date),\n                rates: Object.assign({}, lastItem.rates),\n                secondDegree: Object.assign({}, lastItem.secondDegree)\n              }\n            );\n\n            // GENERATE FIRST RATING\n            // If first time using this localCurrency\n            if (item.rates[changes[i][\"local_currency\"]] === undefined) {\n              firstRating[changes[i][\"local_currency\"]] = {};\n            }\n            if (\n              firstRating[changes[i][\"local_currency\"]][\n                changes[i][\"new_currency\"]\n              ] === undefined\n            ) {\n              firstRating[changes[i][\"local_currency\"]][\n                changes[i][\"new_currency\"]\n              ] = changes[i][\"exchange_rate\"];\n            }\n\n            // If first time using this new Currency\n            if (item.rates[changes[i][\"new_currency\"]] === undefined) {\n              firstRating[changes[i][\"new_currency\"]] = {};\n            }\n            if (\n              firstRating[changes[i][\"new_currency\"]][\n                changes[i][\"local_currency\"]\n              ] === undefined\n            ) {\n              firstRating[changes[i][\"new_currency\"]][\n                changes[i][\"local_currency\"]\n              ] = 1 / changes[i][\"exchange_rate\"];\n            }\n\n            // GENERERATE CHAIN ITEM\n            item.rates[changes[i][\"local_currency\"]] = Object.assign(\n              {},\n              item.rates[changes[i][\"local_currency\"]]\n            );\n            item.rates[changes[i][\"local_currency\"]][\n              changes[i][\"new_currency\"]\n            ] = changes[i][\"exchange_rate\"];\n\n            item.rates[changes[i][\"new_currency\"]] = Object.assign(\n              {},\n              item.rates[changes[i][\"new_currency\"]]\n            );\n            item.rates[changes[i][\"new_currency\"]][\n              changes[i][\"local_currency\"]\n            ] = 1 / changes[i][\"exchange_rate\"];\n\n            // CALCULATE CROSS REFERENCE RATE WITH MULTI CURRENCY VALUES\n            //\n            // console.log('rates');\n            // console.log(JSON.stringify(item.rates));\n            // We take\n            //\n            // Algo:\n            //  1 -> 2 -> 3\n            //    x    y\n            //  1 is changes[i]['local_currency']\n            //  2 is changes[i]['new_currency']\n            //  x is exchange rate between 1 and 2\n            //  we need to calculate y and save it as 1 -> 3\n            Object.keys(item.rates[changes[i][\"local_currency\"]]).forEach(\n              key => {\n                const value = item.rates[changes[i][\"local_currency\"]][key];\n                if (key !== changes[i][\"new_currency\"]) {\n                  item.rates[key];\n\n                  // We need to update secondDegree with this new value\n                  if (item.secondDegree[key] === undefined) {\n                    item.secondDegree[key] = {};\n                  }\n                  item.secondDegree[key][changes[i][\"new_currency\"]] =\n                    changes[i][\"exchange_rate\"] / value;\n\n                  if (\n                    item.secondDegree[changes[i][\"new_currency\"]] === undefined\n                  ) {\n                    item.secondDegree[changes[i][\"new_currency\"]] = {};\n                  }\n                  item.secondDegree[changes[i][\"new_currency\"]][key] =\n                    1 / (changes[i][\"exchange_rate\"] / value);\n\n                  // We also need to update firstRate with this new value\n                  if (firstRating[key] === undefined) {\n                    firstRating[key] = {};\n                  }\n                  if (\n                    firstRating[key][changes[i][\"new_currency\"]] === undefined\n                  ) {\n                    firstRating[key][changes[i][\"new_currency\"]] =\n                      changes[i][\"exchange_rate\"] / value;\n                  }\n\n                  if (firstRating[changes[i][\"new_currency\"]] === undefined) {\n                    firstRating[changes[i][\"new_currency\"]] = {};\n                  }\n                  if (\n                    firstRating[changes[i][\"new_currency\"]][key] === undefined\n                  ) {\n                    firstRating[changes[i][\"new_currency\"]][key] =\n                      1 / (changes[i][\"exchange_rate\"] / value);\n                  }\n                }\n              }\n            );\n\n            chain.push(item);\n            lastItem = item;\n          }\n\n          chain = chain.sort((a, b) => {\n            return a.date < b.date ? 1 : -1;\n          });\n\n          resolve(chain);\n        }\n      };\n    });\n  });\n}\n\nexport { firstRating, getChangeChain };\n","import {\n  CHANGES_READ_REQUEST,\n  CHANGES_EXPORT,\n  ENCRYPTION_KEY_CHANGED,\n  DB_NAME,\n  DB_VERSION,\n  FLUSH\n} from \"../constants\";\nimport axios from \"axios\";\nimport encryption from \"../encryption\";\nimport storage from \"../storage\";\n\nimport { getChangeChain } from \"./utils/changeChain\";\n\nfunction generateBlob(change) {\n  const blob = {};\n\n  blob.name = change.name;\n  blob.date = change.date;\n  blob.local_amount = change.local_amount;\n  blob.local_currency = change.local_currency;\n  blob.new_amount = change.new_amount;\n  blob.new_currency = change.new_currency;\n\n  return blob;\n}\n\nonmessage = function(event) {\n  // Action object is the on generated in action object\n  const action = event.data;\n  const { uuid } = action;\n\n  switch (action.type) {\n    case CHANGES_READ_REQUEST: {\n      let index = null; // criteria\n      let keyRange = null; // values\n      let changes = []; // Set object of Transaction\n\n      storage.connectIndexedDB().then(connection => {\n        index = connection\n          .transaction(\"changes\")\n          .objectStore(\"changes\")\n          .index(\"account\");\n        keyRange = IDBKeyRange.only(action.account);\n        let cursor = index.openCursor(keyRange);\n        cursor.onsuccess = function(event) {\n          var cursor = event.target.result;\n          if (cursor) {\n            changes.push(event.target.result.value);\n            cursor.continue();\n          } else {\n            changes.forEach(change => {\n              change.date = new Date(change.date);\n            });\n\n            changes = changes.sort((a, b) => {\n              return a.date > b.date ? -1 : 1;\n            });\n            getChangeChain(action.account).then(chain => {\n              postMessage({\n                uuid,\n                type: action.type,\n                changes: changes,\n                chain: chain\n              });\n            });\n          }\n        };\n      });\n\n      break;\n    }\n    case CHANGES_EXPORT: {\n      let index = null; // criteria\n      let keyRange = null; // values\n      let changes = []; // Set object of Transaction\n\n      storage.connectIndexedDB().then(connection => {\n        index = connection\n          .transaction(\"changes\")\n          .objectStore(\"changes\")\n          .index(\"account\");\n        keyRange = IDBKeyRange.only(action.account);\n        let cursor = index.openCursor(keyRange);\n        cursor.onsuccess = function(event) {\n          var cursor = event.target.result;\n          if (cursor) {\n            // Clear generated data\n            const change = event.target.result.value;\n            delete change.account;\n            delete change.category;\n            delete change.exchange_rate;\n            delete change.last_edited;\n            delete change.year;\n            delete change.month;\n            delete change.day;\n            changes.push(change);\n            cursor.continue();\n          } else {\n            postMessage({\n              uuid,\n              type: CHANGES_EXPORT,\n              changes: changes\n            });\n          }\n        };\n      });\n      break;\n    }\n    case FLUSH: {\n      const { accounts } = action;\n\n      if (accounts) {\n        // For each account, we select all transaction, and delete them one by one.\n        accounts.forEach(account => {\n          storage.connectIndexedDB().then(connection => {\n            var customerObjectStore = connection\n              .transaction(\"changes\", \"readwrite\")\n              .objectStore(\"changes\")\n              .index(\"account\")\n              .openCursor(IDBKeyRange.only(account));\n\n            customerObjectStore.onsuccess = function(event) {\n              var cursor = event.target.result;\n              // If cursor.continue() still have data to parse.\n              if (cursor) {\n                cursor.delete();\n                cursor.continue();\n              }\n            };\n          });\n        });\n      } else {\n        storage.connectIndexedDB().then(connection => {\n          var customerObjectStore = connection\n            .transaction(\"changes\", \"readwrite\")\n            .objectStore(\"changes\");\n\n          customerObjectStore.clear();\n        });\n      }\n      break;\n    }\n    case ENCRYPTION_KEY_CHANGED: {\n      const { url, token, newCipher, oldCipher } = action;\n\n      axios({\n        url: url + \"/api/v1/changes\",\n        method: \"get\",\n        headers: {\n          Authorization: \"Token \" + token\n        }\n      })\n        .then(function(response) {\n          let promises = [];\n          const changes = [];\n\n          encryption.key(oldCipher).then(() => {\n            response.data.forEach(change => {\n              promises.push(\n                new Promise((resolve, reject) => {\n                  encryption\n                    .decrypt(change.blob === \"\" ? \"{}\" : change.blob)\n                    .then(json => {\n                      delete change.blob;\n                      changes.push({\n                        id: change.id,\n                        blob: json\n                      });\n                      resolve();\n                    });\n                })\n              );\n            });\n\n            Promise.all(promises)\n              .then(() => {\n                promises = [];\n                encryption.key(newCipher).then(() => {\n                  changes.forEach(change => {\n                    promises.push(\n                      new Promise((resolve, reject) => {\n                        encryption.encrypt(change.blob).then(json => {\n                          change.blob = json;\n                          resolve();\n                        });\n                      })\n                    );\n                  });\n\n                  Promise.all(promises)\n                    .then(_ => {\n                      axios({\n                        url: url + \"/api/v1/changes\",\n                        method: \"PATCH\",\n                        headers: {\n                          Authorization: \"Token \" + token\n                        },\n                        data: changes\n                      })\n                        .then(response => {\n                          postMessage({\n                            uuid,\n                            type: action.type\n                          });\n                        })\n                        .catch(exception => {\n                          postMessage({\n                            uuid,\n                            type: action.type,\n                            exception\n                          });\n                        });\n                    })\n                    .catch(exception => {\n                      postMessage({\n                        uuid,\n                        type: action.type,\n                        exception\n                      });\n                    });\n                });\n              })\n              .catch(exception => {\n                postMessage({\n                  uuid,\n                  type: action.type,\n                  exception\n                });\n              });\n          });\n        })\n        .catch(exception => {\n          postMessage({\n            uuid,\n            type: action.type,\n            exception\n          });\n        });\n      break;\n    }\n    default:\n      return;\n  }\n};\n"],"sourceRoot":""}